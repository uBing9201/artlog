## 기획서

## **1. 프로젝트 개요**

본 프로젝트는 마이크로서비스 아키텍쳐를 적용한 예술 전시에 대한 후기 작성과 공유 및 예매 플랫폼 시스템을 개발합니다. 사용자가 공연/전시를 다양한 쿠폰을 사용하여 예매하고 이에 대한 후기를 타 사용자와 공유할 수 있는 기능을 제공합니다.

## **2. 목표 및 범위**

- 이 프로젝트의 목표는 공공 API를 사용하여 실제 서비스 가능한 시스템을 개발하고, MSA를 통해 서비스의 확장성과 유지보수의 유연함을 높이고, Front-end와 Back-end를 철저히 구분하여 협업 과정에서 역할 분담을 명확히 하고, 예외 상황에 대한 유연한 대처를 가능하게 하는 것입니다.
- 이 프로젝트에서의 주문 기능은 실제 결제 기능을 포함하지 않으나, 확장성을 위해 결제와 관련된 기능을 구현해두었습니다.

## **3. 타겟 사용자**

- 구현: 예술 전시에 관심이 많은 일반 소비자
- 미구현: 시스템 관리자, 모든 예술 전시 주최자

## **4. 주요 기능 목록**

- 사용자 등록, 로그인 및 로그인 정보 찾기, 회원 정보 수정 및 삭제, 주문/후기 내역 및 보유 쿠폰 조회
- 전시 정보 검색 및 조회, 후기 작성 및 타 사용자 후기 조회, 전시 예매, 쿠폰 사용
- (관리자) 쿠폰 등록

## **5. 기술 스택**

Spring Boot, Spring Cloud, React, MySQL, AWS(EC2, S3), Git, Github

## 6. 마이크로서비스 구조 및 역할

- 사용자 서비스: 사용자의 인증, 인가 처리 및 사용자 정보 및 사용자 쿠폰에 대한 데이터 처리 담당
- 주문 서비스 : 전시 예매 정보에 대한 데이터 처리 담당
- 후기 서비스 : 후기 정보에 대한 데이터 처리 담당
- 쿠폰 서비스 : 쿠폰 정보에 대한 데이터 처리 담당
- 공공 API 서비스 : 문화체육관광부에서 제공하는 전시 정보 데이터 처리 담당
- 유레카 서버 : 클라우드 환경에서 각 어플리케이션의 연결 정보 관리
- API 게이트웨이 서버 : 로드밸런싱 및 요청 유효성 검증 처리 담당
- 설정 서버 : 민감한 각 서비스의 설정 정보 관리 담당

## 7. DevOps 도구 적용 계획

### 도입 근거

- Artlog는 MSA 기반의 웹 서비스로, 서비스 수가 많고 배포 주기가 짧음

- 각 서비스의 독립적인 빌드 및 배포가 필요함 (user-service, api-service, coupon-service 등)

- 수동 배포는 오류 가능성이 높고, 작업자마다 환경 차이(OS 등) 발생

- 인프라 확장 및 운영 자동화를 대비한 체계적인 배포 구조 필요

### 도입 목표

- 모든 서비스가 Docker 기반한 일관된 배포 환경 구성

- CI/CD 자동화를 통해 코드 변경부터 배포까지의 과정을 최소한의 수동 개입으로 처리

- 프론트/백엔드 분리 배포 구조 확보 (프론트는 GitHub Actions, 백엔드는 Jenkins)

- 무중단 배포 기반 마련 (Docker compose, Jenkins 활용)

- 향후 실시간 모니터링과 체계적인 로깅, 유연한 스케일링까지 확장 가능한 DevOps 기반을 확보

## 8. DevOps 도구 선택 및 적용 계획

- Docker: MSA 각 서비스 독립 컨테이너화, 실행 환경 일관성 확보

- Docker Compose: 다중 컨테이너 동시 제어, 서비스 통합 관리

- Jenkins: 백엔드 CI/CD 자동화 및 배포 상태 관리 용이

- GitHub Actions: 프론트 CI/CD 자동화 및 S3, CloudFront 배포 용이

- Kubernetes: 트래픽 증가 시 고려, 현재는 미사용

## 9. 배포 및 운영 전략

### 프론트엔드 (GitHub 략ctions)

    main merge 시 Set up -> Vite build → S3 업로드 → CloudFront 캐시 삭제 및 배포

### 백엔드 (Jenkins + Docker)

    main 머지 시 Webhook 트리거

    Jenkins 빌드 → Docker 이미지 생성 → AWS ECR 푸시 → 서비스 재배포

    MSA 구조 (gateway, config, eureka, 각 서비스) 모두 Docker Compose로 관리

### 모니터링 및 로깅

    Actuator 기반 헬스체크 적용 (/actuator/health)

## 10. 기대 효과 및 성과 지표

### 기대 효과

**배포 속도 향상** → 코드 변경 후 운영 반영까지의 시간 단축

**배포 안정성 증가** → Jenkins 및 GitHub Actions를 통한 자동화로 휴먼 에러 최소화

**서비스 가용성 유지** → 무중단 배포 구조 기반으로 사용자 영향 없이 배포 가능

**개발 생산성 향상** → 개발자는 코드 작성에 집중, 배포 과정은 자동화

**운영 효율화** → 로그 및 상태 모니터링 기반으로 장애 탐지 및 대응 시간 단축  

### 성과 지표

| 항목               | 목표 수치 또는 확인 방법         |
| ---------------- | ---------------------- |
| 배포 소요 시간         | 코드 커밋 \~ 운영 반영까지 5분 이내 |
| 배포 자동화율          | 수동 개입 없는 자동화율 100%     |
| 배포 실패율           | 배포 오류 발생률 10% 이하 유지     |
| 시스템 평균 응답속도      | 배포 전후 차이 5% 이내 유지     |


## ------------------------------------------------------------------------------------------

## 요구사항 정의서 - 기능 요구사항

## 사용자 서비스

| 요구사항 ID | 상세 설명 | 우선 순위 |
| --- | --- | --- |
| USR_00 | 사용자는 ID, PW, Email, 힌트와 힌트 답, 이름, 전화번호로 회원가입할 수 있어야 한다.  | 높음 |
| USR_01 | 사용자는 가입한 ID와 PW로 로그인할 수 있어야 한다. | 높음 |
| USR_02 | 사용자는 회원 가입시 입력한 개인 정보를 수정할 수 있어야 한다. | 중간 |
| USR_03 | 사용자는 가입된 상태를 탈퇴한 상태로 변경할 수 있어야 한다. | 중간 |
| USR_04 | 사용자는 자신의 계정 아이디를 찾기 위해 이메일을 입력하여 지정한 힌트를 확인하고 답을 입력할 수 있어야 한다. | 중간 |
| USR_05 | 사용자는 입력한 힌트에 대한 답을 통해 사용자의 ID를 조회할 수 있어야 한다 | 중간 |
| USR_06 | 사용자는 자신의 계정 비밀번호를 찾기 위해 ID와 이메일을 입력하여 지정한 힌트를 확인하고 답을 입력할 수 있어야 한다. | 중간 |
| USR_07 | 사용자는 입력한 힌트에 대한 답을 통해 비밀번호를 변경할 수 있는 자격을 부여받을 수 있어야 한다 | 중간 |
| USR_08 | 사용자는 비밀 번호 찾기 기능에서 힌트 검증이 끝난 후 비밀번호를 새롭게 설정할 수 있어야 한다.  | 중간 |
| USR_09 | 사용자는 시스템 내부 사용자 본인의 정보를 조회할 수 있어야 한다. | 높음 |
| USR_10 | 사용자는 쿠폰의 시리얼 번호를 통해 쿠폰을 등록할 수 있어야 한다. | 낮음 |
| USR_11 | 사용자는 본인이 등록한 쿠폰의 내역을 조회할 수 있어야 한다.  | 낮음 |
| USR_12 | 사용자는 본인이 설정한 힌트를 조회할 수 있어야 한다. | 중간 |
| USR_13 | 사용자는 회원 가입 시 입력한 ID의 중복 여부를 확인할 수 있어야 한다. | 높음 |
| USR_14 | 사용자는 로그인한 상태에서 기존의 비밀번호와 다른 비밀번호를 새롭게 설정할 수 있어야 한다. | 중간 |

## 주문 서비스

| 요구사항 ID | 상세 설명 | 우선 순위 |
| --- | --- | --- |
| ORD_00 | 사용자는 선택한 전시에 대해 보유한 쿠폰을 적용시켜 주문을 진행할 수 있어야 한다 | 높음 |
| ORD_01 | 사용자는 이미 처리된 주문에 대하여 주문을 취소할 수 있어야 한다.  | 낮음 |
| ORD_02 | 사용자는 특정 전시에 대하여 예매한 기록이 있는지 확인할 수 있어야 한다 | 중간 |
| ORD_03 | 사용자는 본인의 모든 주문 내역을 조회할 수 있어야 한다. | 중간 |

## 후기 서비스

| 요구사항 ID | 상세 설명 | 우선 순위 |
| --- | --- | --- |
| REV_00 | 사용자는 주문이 완료된 전시에 대해 후기를 작성할 수 있어야 한다. | 중간 |
| REV_01 | 사용자는 본인이 작성한 후기에 대하여 내용을 수정할 수 있어야 한다. | 낮음 |
| REV_02 | 사용자는 본인이 작성한 후기를 삭제할 수 있어야 한다. | 낮음 |
| REV_03 | 사용자는 특정 전시에 등록된 모든 후기를 조회할 수 있어야 한다. | 중간 |
| REV_04 | 사용자는 본인이 작성한 모든 후기를 조회할 수 있어야 한다. | 낮음 |

## 쿠폰 서비스

| 요구사항 ID | 상세 설명 | 우선 순위 |
| --- | --- | --- |
| CPN_00 | 관리자는 쿠폰 정보를 등록할 수 있어야 한다. | 중간 |
| CPN_01 | 관리자는 요청 시점에 대하여 등록된 쿠폰의 유효성을 검증할 수 있어야 한다 | 중간 |
| CPN_02 | 관리자는 등록된 모든 쿠폰의 정보를 조회할 수 있어야 한다 | 낮음 |
| CPN_03 | 관리자는 한정 수량이 존재하는 쿠폰의 현재 남은 수량을 조회할 수 있어야 한다. | 낮음 |
| CPN_04 | 사용자는 본인이 보유한 쿠폰의 유효성을 검증하고 쿠폰의 정보를 조회할 수 있어야 한다. | 중간 |
| CPN_05 | 사용자는 쿠폰의 시리얼 번호를 통해 쿠폰의 ID를 조회할 수 있어야 한다. | 낮음 |

## 공공 API 데이터 제공 서비스

| 요구사항 ID | 상세 설명 | 우선 순위 |
| --- | --- | --- |
| API_00 | 사용자는 공공 API를 통해 요구하는 수량의 전시 정보 데이터를 조회할 수 있어야 한다. | 높음 |
| API_01 | 사용자는 주문이 완료된 모든 전시 정보를 확인할 수 있어야 한다. | 중간 |

## ------------------------------------------------------------------------------------------

## MSA 아키텍처 설계도

https://docs.google.com/spreadsheets/d/1AnH1tIr7nVC0chcegOQkAXPOEpxHRhhUNtokbMcqJYY/edit?gid=1099589851#gid=1099589851

## ------------------------------------------------------------------------------------------

## 인터페이스 설계서

https://docs.google.com/spreadsheets/d/1AnH1tIr7nVC0chcegOQkAXPOEpxHRhhUNtokbMcqJYY/edit?gid=1561101686#gid=1561101686

## ------------------------------------------------------------------------------------------

## 테스트케이스

https://docs.google.com/spreadsheets/d/1AnH1tIr7nVC0chcegOQkAXPOEpxHRhhUNtokbMcqJYY/edit?gid=431375075#gid=431375075

## ------------------------------------------------------------------------------------------

## 테스트케이스 결과

https://docs.google.com/spreadsheets/d/1AnH1tIr7nVC0chcegOQkAXPOEpxHRhhUNtokbMcqJYY/edit?gid=1503355747#gid=1503355747
